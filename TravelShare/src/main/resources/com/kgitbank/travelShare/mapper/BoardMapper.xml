<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.kgitbank.travelShare.mapper.BoardMapper">
	<select id="getBoardAll" resultType="com.kgitbank.travelShare.model.BoardModel">
		SELECT * FROM main_board ORDER BY board_id DESC
	</select>
	
	<select id="getBoardFilter1" resultType="com.kgitbank.travelShare.model.BoardModel">
				SELECT * FROM main_board WHERE sigungucode = #{sigungucode} ORDER BY board_id DESC
	</select>
	
	<select id="getBoardFilter2" resultType="com.kgitbank.travelShare.model.BoardModel">
				SELECT * FROM main_board WHERE sigungucode LIKE #{sidocode} || '%' ORDER BY board_id DESC
	</select>
	
	<select id="getBoardChoice" resultType="com.kgitbank.travelShare.model.BoardModel">
				SELECT * FROM main_board WHERE board_id = #{board_id} ORDER BY board_id DESC
	</select>
	
	<select id="getBoardPaging" resultType="com.kgitbank.travelShare.model.BoardModel">
		SELECT *
		FROM (SELECT ROWNUM AS rnum, board_id, user_id, board_title, board_lookupcnt, board_bestplace, board_besteat,
            board_mainimg, board_content, sigungucode, sido, sigungu, addr
        FROM main_board board_id ORDER BY board_id DESC) WHERE RNUM BETWEEN #{startnum }+1 AND #{endnum } ORDER BY board_id DESC
	</select>
	
	<select id="getBoardPaging1" resultType="com.kgitbank.travelShare.model.BoardModel">
		SELECT *
		FROM (SELECT ROWNUM AS rnum, board_id, user_id, board_title, board_lookupcnt, board_bestplace, board_besteat,
            board_mainimg, board_content, sigungucode, sido, sigungu, addr
        FROM main_board board_id WHERE sigungucode= #{sigungucode} ORDER BY board_id DESC) WHERE RNUM BETWEEN #{startnum }+1 AND #{endnum } ORDER BY board_id DESC
	</select>
	
	<select id="getBoardPaging2" resultType="com.kgitbank.travelShare.model.BoardModel">
		SELECT *
		FROM (SELECT ROWNUM AS rnum, board_id, user_id, board_title, board_lookupcnt, board_bestplace, board_besteat,
            board_mainimg, board_content, sigungucode, sido, sigungu, addr
        FROM main_board board_id WHERE sigungucode LIKE #{sidocode} || '%' ORDER BY board_id DESC) WHERE RNUM BETWEEN #{startnum }+1 AND #{endnum } ORDER BY board_id DESC
	</select>
	
	
	<insert id="insertBoard">
		INSERT INTO main_board VALUES (board_seq.nextval, #{user_id}, #{board_title},#{board_lookupcnt},
		#{board_bestplace},#{board_besteat},#{board_mainimg},#{board_content},#{sigungucode},#{sido},#{sigungu}, #{addr})
	</insert>
</mapper>